{% extends 'AdminApp/layout.html' %}

{% block content %}
<style>
    /* Professional Color Grading */
    .admin-gradient-1 {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    .admin-gradient-2 {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    }

    .admin-gradient-3 {
        background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    }

    .admin-gradient-4 {
        background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
    }

    /* Page Header */
    .page-header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 25px 0;
        margin-bottom: 30px;
        border-radius: 0 0 20px 20px;
        box-shadow: 0 5px 20px rgba(102, 126, 234, 0.3);
    }

    .page-title {
        font-weight: 700;
        font-size: 2.2rem;
        margin: 0;
        text-align: center;
    }

    .page-subtitle {
        text-align: center;
        opacity: 0.9;
        font-weight: 300;
        margin-top: 8px;
    }

    /* Table Styles */
    .professional-table {
        background: white;
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        margin-bottom: 30px;
    }

    .table-header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
    }

    .table-header th {
        border: none;
        padding: 20px 15px;
        font-weight: 600;
        font-size: 0.95rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        text-align: center;
        vertical-align: middle;
    }

    .table-body tr {
        transition: all 0.3s ease;
        border-bottom: 1px solid #f1f3f4;
    }

    .table-body tr:hover {
        background: rgba(102, 126, 234, 0.05);
        transform: translateY(-1px);
    }

    .table-body td {
        padding: 18px 15px;
        border: none;
        font-weight: 500;
        color: #5a6c7d;
        text-align: center;
        vertical-align: middle;
        font-size: 0.9rem;
    }

    /* Status Badges */
    .status-badge {
        padding: 6px 15px;
        border-radius: 20px;
        font-weight: 600;
        font-size: 0.8rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .status-disbursed {
        background: linear-gradient(135deg, #43e97b, #38f9d7);
        color: white;
    }

    .status-pending {
        background: linear-gradient(135deg, #feca57, #ff9ff3);
        color: #2c3e50;
    }

    .status-rejected {
        background: linear-gradient(135deg, #ff6b6b, #ee5a24);
        color: white;
    }

    /* Action Buttons */
    .action-buttons {
        display: flex;
        justify-content: center;
        gap: 8px;
        flex-wrap: wrap;
    }

    .btn-action {
        border: none;
        border-radius: 10px;
        padding: 8px 12px;
        font-size: 0.85rem;
        font-weight: 600;
        transition: all 0.3s ease;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        min-width: 40px;
        height: 40px;
    }

    .btn-view {
        background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        color: white;
    }

    .btn-view:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(79, 172, 254, 0.3);
        color: white;
    }

    .btn-edit {
        background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
        color: white;
    }

    .btn-edit:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(67, 233, 123, 0.3);
        color: white;
    }

    .btn-delete {
        background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
        color: white;
    }

    .btn-delete:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
        color: white;
    }

    /* No Data State */
    .no-data {
        text-align: center;
        padding: 60px 20px;
        background: linear-gradient(135deg, #f8f9fa, #e9ecef);
        border-radius: 15px;
        margin: 20px 0;
    }

    .no-data-icon {
        font-size: 4rem;
        color: #667eea;
        margin-bottom: 20px;
        opacity: 0.7;
    }

    .no-data-text {
        color: #6c757d;
        font-size: 1.2rem;
        font-weight: 500;
    }

    /* Amount Styling */
    .amount {
        font-weight: 700;
        color: #2c3e50;
        font-size: 1rem;
    }

    /* Background Animation */
    .animated-background {
        background: linear-gradient(-45deg, #f8f9fa, #e9ecef, #f8f9fa, #e9ecef);
        background-size: 400% 400%;
        animation: gradient 15s ease infinite;
        min-height: 100vh;
        padding: 20px 0;
    }

    @keyframes gradient {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
    }

    /* Responsive Design */
    @media (max-width: 768px) {
        .professional-table {
            border-radius: 10px;
            margin: 0 -15px;
        }

        .table-header th {
            padding: 15px 8px;
            font-size: 0.8rem;
        }

        .table-body td {
            padding: 12px 8px;
            font-size: 0.85rem;
        }

        .action-buttons {
            flex-direction: column;
            gap: 5px;
        }

        .btn-action {
            width: 100%;
            justify-content: center;
        }

        .page-title {
            font-size: 1.8rem;
        }
    }

    /* Loading Animation */
    .loading-dots {
        display: inline-block;
    }

    .loading-dots::after {
        content: '';
        animation: dots 1.5s steps(5, end) infinite;
    }

    @keyframes dots {
        0%, 20% { content: '.'; }
        40% { content: '..'; }
        60% { content: '...'; }
        80%, 100% { content: ''; }
    }

    /* Custom Scrollbar */
    .table-responsive::-webkit-scrollbar {
        height: 8px;
    }

    .table-responsive::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 10px;
    }

    .table-responsive::-webkit-scrollbar-thumb {
        background: linear-gradient(135deg, #667eea, #764ba2);
        border-radius: 10px;
    }
</style>

<div class="animated-background">
    <!-- Page Header -->
    <div class="page-header">
        <div class="container-fluid">
            <h1 class="page-title">
                <i class="fas fa-file-invoice-dollar mr-3"></i>
                DISBURSED FILES
            </h1>
            <p class="page-subtitle">Manage and monitor all disbursed loan files</p>
        </div>
    </div>

    <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                <!-- Professional Table -->
                <div class="professional-table">
                    <div class="table-responsive">
                        <table class="table table-hover mb-0">
                            <thead class="table-header">
                                <tr>
                                    <th>ACTIONS</th>
                                    <th>USER ID</th>
                                    <th>ACCOUNT HOLDER</th>
                                    <th>BANK NAME</th>
                                    <th>ACCOUNT NO</th>
                                    <th>IFSC CODE</th>
                                    <th>TOTAL AMOUNT</th>
                                    <th>STATUS</th>
                                </tr>
                            </thead>
                            <tbody class="table-body">
                                {% for dis in dis_object %}
                                <tr>
                                    <td>
                                        <div class="action-buttons">
                                            <a href="/FinanceAdmin/view_disbursed/{{dis.id}}" class="btn btn-action btn-view" title="View Details">
                                                <i class="fas fa-eye"></i>
                                            </a>
                                            <a href="/FinanceAdmin/update_disbursed/{{dis.id}}" class="btn btn-action btn-edit" title="Edit File">
                                                <i class="fas fa-edit"></i>
                                            </a>
                                            <a href="/FinanceAdmin/delete_disbursed/{{dis.id}}" onclick="return confirm('Are you sure you want to delete this disbursed file?')" class="btn btn-action btn-delete" title="Delete File">
                                                <i class="fas fa-trash"></i>
                                            </a>
                                        </div>
                                    </td>
                                    <td><strong>{{dis.user_id}}</strong></td>
                                    <td>{{dis.acount_holder_name}}</td>
                                    <td>{{dis.bank_name}}</td>
                                    <td><code>{{dis.acount_no}}</code></td>
                                    <td><code>{{dis.ifsc_code}}</code></td>
                                    <td class="amount">&#8377; {{dis.total_amount}}</td>
                                    <td>
                                        <span class="status-badge status-disbursed">
                                            {{dis.status}}
                                        </span>
                                    </td>
                                </tr>
                                {% endfor %}

                                {% if not dis_object %}
                                <tr>
                                    <td colspan="9">
                                        <div class="no-data">
                                            <i class="fas fa-inbox no-data-icon"></i>
                                            <h3 class="no-data-text">No Disbursed Files Found</h3>
                                            <p class="text-muted mt-2">There are currently no disbursed files in the system.</p>
                                        </div>
                                    </td>
                                </tr>
                                {% endif %}
                            </tbody>
                        </table>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<!-- Font Awesome -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">



{% endblock %}